<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="findSVI">
<title>Introduction to findSVI • findSVI</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to findSVI">
<meta property="og:description" content="findSVI">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">findSVI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/findSVI.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/heli-xu/findSVI/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to findSVI</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/heli-xu/findSVI/blob/HEAD/vignettes/findSVI.Rmd" class="external-link"><code>vignettes/findSVI.Rmd</code></a></small>
      <div class="d-none name"><code>findSVI.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/heli-xu/findSVI" class="external-link">findSVI</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="what-is-svi">What is SVI<a class="anchor" aria-label="anchor" href="#what-is-svi"></a>
</h2>
<p>First introduced in 2011 (Flanagan BE, Gregory EW, Hallisey EJ,
Heitgerd JL, Lewis B.), the CDC/ATSDR Social Vulnerability Index (SVI)
serves as a tool to assess the resilience of communities by considering
socioeconomic and demographic factors. This valuable information plays a
crucial role in preparing for and managing public health emergencies, as
it enables effective planning of social services and public assistance.
The CDC/ATSDR Social Vulnerability Index (CDC/ATSDR SVI) utilizes 16
U.S. census variables grouped into 4 domains/themes, and obtains a
relative vulnerability level (percentile) by ranking a geographic unit
against others within a region. For more details, please refer to <a href="https://www.atsdr.cdc.gov/placeandhealth/svi/index.html" class="external-link">CDC/ATSDR
SVI website</a>.</p>
</div>
<div class="section level2">
<h2 id="why-we-might-need-to-calculate-svi">Why we might need to calculate SVI<a class="anchor" aria-label="anchor" href="#why-we-might-need-to-calculate-svi"></a>
</h2>
<p>CDC/ATSDR releases SVI biannually <a href="https://www.atsdr.cdc.gov/placeandhealth/svi/data_documentation_download.html" class="external-link">here</a>
in both shapefile and csv format, at the counties/census tracts level
within an individual state or in the US. While the SVI database is very
useful, sometimes we would prefer more up-to-date census data or
different geographic levels. For example, if we’d like to address
questions about ZCTA-level SVI of Pennsylvania in 2021, or census
tract-level SVI within a few counties in Pennsylvania in 2020, we might
need to calculate SVI from the census data ourselves.</p>
<p>findSVI aims to support more flexible and specific SVI analysis in
these cases with additional options for years (2014-2021) and geographic
levels (eg. ZCTA/places, combining multiple states).</p>
<p>This document introduces you to the datasets and basic tools of
findSVI for census data retrieval and SVI calculation.</p>
</div>
<div class="section level2">
<h2 id="data-census-variables">Data: census variables<a class="anchor" aria-label="anchor" href="#data-census-variables"></a>
</h2>
<div class="section level3">
<h3 id="census-variables-and-calculation-table">Census variables and calculation table<a class="anchor" aria-label="anchor" href="#census-variables-and-calculation-table"></a>
</h3>
<p>To retrieve census data and calculate SVI based on CDC/ATSDR
documentation, a series of lists and tables containing census variables
information are included in the package.</p>
<ul>
<li>census_variables_(2014-2021): Each list contains the year-specific
census variables needed for SVI calculation.</li>
<li>variable_ep_calculation_(2014-2021): Each table contains the SVI
variable names, their theme group and corresponding census variable(s)
and calculation formula.</li>
</ul>
<p>These datasets are documented in <code><a href="../reference/census_variables.html">?census_variables</a></code> and
<code><a href="../reference/variable_calculation.html">?variable_calculation</a></code>.</p>
</div>
<div class="section level3">
<h3 id="zcta-state-relationship-file-crosswalk">ZCTA-state relationship file (crosswalk)<a class="anchor" aria-label="anchor" href="#zcta-state-relationship-file-crosswalk"></a>
</h3>
<p>As Census Bureau changes how <a href="https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/file-availability.2010.html#list-tab-2064248757" class="external-link">TIGER/Line
shapefiles</a> are released, state-based ZCTA data are no longer
available since 2011, while nation-based data remain available. In turn,
this affect obtaining data from ACS at the ZCTA level for a specific
state using [tidycensus]((<a href="https://walker-data.com/tidycensus/" class="external-link uri">https://walker-data.com/tidycensus/</a>), which uses Census
shapefiles to request geometry. According to a relevant <a href="https://github.com/walkerke/tidycensus/issues/78" class="external-link">github
issue</a>, [tidycensus]uses 2010 ZCTA file (from <a href="https://cran.r-project.org/web/packages/tigris/index.html" class="external-link">tigris
package</a>) to obtain state-specific ZCTA-level data in the ACS for
2011-2018. Starting 2019, using [tidycensus::get_acs()] to retrieve
state-specific ZCTA-level data will produce an error. The 3 datasets of
ZCTA-to-state crosswalks are included to help selecting the ZCTAs in the
state(s) of interest after retrieving the ZCTA data at the national
level.</p>
</div>
</div>
<div class="section level2">
<h2 id="retrieve-census-data-with-get_census_data">Retrieve census data with <code>get_census_data()</code><a class="anchor" aria-label="anchor" href="#retrieve-census-data-with-get_census_data"></a>
</h2>
<p><code><a href="../reference/get_census_data.html">get_census_data()</a></code> uses [tidycensus::get_acs()] with a
pre-defined list of variables to retrieves ACS data for SVI calculation.
The list of census variables is built in the function, and changes
according to the year of interest. Importantly, a Census API key is
required for this function to work, which can be obtained <a href="https://api.census.gov/data/key_signup.html" class="external-link">online</a> and set up
by <code>census_api_key("YOUR KEY GOES HERE")</code>. The arguments are
largely the same with [tidycensus::get_acs()], including year, geography
and state.</p>
<p>For example, we can retrieve ZCTA-level data for Rhode Island for
2018:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/heli-xu/findSVI" class="external-link">findSVI</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_census_data.html">get_census_data</a></span><span class="op">(</span><span class="fl">2018</span>, <span class="st">"zcta"</span>, <span class="st">"RI"</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;    GEOID        NAME B17001_002E B17001_002M B19301_001E B19301_001M</span></span>
<span><span class="co">#&gt; 1  02802 ZCTA5 02802         154         190       24925       14640</span></span>
<span><span class="co">#&gt; 2  02804 ZCTA5 02804         130          91       39065        6412</span></span>
<span><span class="co">#&gt; 3  02806 ZCTA5 02806         520         183       61534        3820</span></span>
<span><span class="co">#&gt; 4  02807 ZCTA5 02807          73          33       39287        7937</span></span>
<span><span class="co">#&gt; 5  02808 ZCTA5 02808         162         166       29356        3819</span></span>
<span><span class="co">#&gt; 6  02809 ZCTA5 02809        1619         368       34252        2269</span></span>
<span><span class="co">#&gt; 7  02812 ZCTA5 02812          31          52       41718        5771</span></span>
<span><span class="co">#&gt; 8  02813 ZCTA5 02813         605         271       42612        4889</span></span>
<span><span class="co">#&gt; 9  02814 ZCTA5 02814         722         253       37750        3056</span></span>
<span><span class="co">#&gt; 10 02815 ZCTA5 02815          13          21       71975       22744</span></span>
<span><span class="co">#&gt;    B06009_002E B06009_002M B09001_001E B09001_001M</span></span>
<span><span class="co">#&gt; 1           80          87         220         161</span></span>
<span><span class="co">#&gt; 2           56          45         331         156</span></span>
<span><span class="co">#&gt; 3          383         111        4375         204</span></span>
<span><span class="co">#&gt; 4           19          22         143          87</span></span>
<span><span class="co">#&gt; 5          272         146         598         271</span></span>
<span><span class="co">#&gt; 6         2077         370        3201         241</span></span>
<span><span class="co">#&gt; 7           72          60         323         144</span></span>
<span><span class="co">#&gt; 8          411         157        1265         147</span></span>
<span><span class="co">#&gt; 9          381         115        1489         170</span></span>
<span><span class="co">#&gt; 10           0          13          74         113</span></span></code></pre>
<p>(only first 10 rows and columns are shown)</p>
<p>Note that for ZCTA-level after 2018, data retrieving by state is not
supported by Census API/tidycensus yet. Therefore the workaround at this
point is to retrieve data for all US, and select the ZCTAs in the state
of interest. To get the ZCTAs in the state of interest: * Download any
ZCTA-level data for the state of interest from <a href="data.census.gov">Census Data Portal</a>. Last five digits of
either the first or second column cotains the ZCTAs in that state. More
recommended. * Use ZCTA to County Relationship File from <a href="https://www.census.gov/geographies/reference-files/time-series/geo/relationship-files.html#:~:text=These%20text%20files%20describe%20geographic,for%20the%20same%20time%20period." class="external-link">Census
Relationship Files</a> for the year/decade of choice, and select the
ZCTAs associated with the counties in the state of interest (a list of
counties can be obtained by CDC/ATSDR-released SVI table or
elsewhere).</p>
</div>
<div class="section level2">
<h2 id="compute-svi-with-get_svi">Compute SVI with <code>get_svi()</code><a class="anchor" aria-label="anchor" href="#compute-svi-with-get_svi"></a>
</h2>
<p><code><a href="../reference/get_svi.html">get_svi()</a></code> takes the year and census data (retrieved by
<code><a href="../reference/get_census_data.html">get_census_data()</a></code>) as arguments, and calculate the SVI
based on <a href="https://www.atsdr.cdc.gov/placeandhealth/svi/data_documentation_download.html" class="external-link">CDC/ATSDR
documentation</a>. This function uses the built-in
<code>variable_calculation</code> tables and populate the SVI variables
with census variables directly, or basic summation/percentage
calculation of census variables. For each SVI variable,a geographic unit
is ranked against the others in the selected region, followed by summing
up rankings for variables within each theme to perform percentile
ranking again as the SVI for each theme and overall SVI.</p>
<p>For example, to obtain ZCTA-level SVI for Rhode Island for 2018:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_svi.html">get_svi</a></span><span class="op">(</span><span class="fl">2018</span>, <span class="va">data</span><span class="op">)</span></span>
<span><span class="va">result</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;    GEOID        NAME E_TOTPOP E_HU E_HH E_POV E_UNEMP E_PCI E_NOHSDP E_AGE65</span></span>
<span><span class="co">#&gt; 1  02802 ZCTA5 02802      671  314  223   154      18 24925       80      15</span></span>
<span><span class="co">#&gt; 2  02804 ZCTA5 02804     2004  947  840   130      12 39065       56     351</span></span>
<span><span class="co">#&gt; 3  02806 ZCTA5 02806    16192 6393 6111   520     244 61534      383    2680</span></span>
<span><span class="co">#&gt; 4  02807 ZCTA5 02807      827 1856  429    73      21 39287       19     221</span></span>
<span><span class="co">#&gt; 5  02808 ZCTA5 02808     2565  969  889   162     171 29356      272     267</span></span>
<span><span class="co">#&gt; 6  02809 ZCTA5 02809    22258 9181 8442  1619     424 34252     2077    4578</span></span>
<span><span class="co">#&gt; 7  02812 ZCTA5 02812     1208  402  402    31      44 41718       72     144</span></span>
<span><span class="co">#&gt; 8  02813 ZCTA5 02813     7780 5173 3200   605     330 42612      411    1733</span></span>
<span><span class="co">#&gt; 9  02814 ZCTA5 02814     7673 3350 2903   722     167 37750      381    1207</span></span>
<span><span class="co">#&gt; 10 02815 ZCTA5 02815      208   76   76    13       0 71975        0      16</span></span></code></pre>
<p>(only first 10 rows and columns are shown)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Heli Xu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
